{% extends base %}

{% block postamble %}
<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
{% endblock %}

{% block contents %}
<div id="plot_div" style="border: 0px solid">
    <!-- add tabIndex="-1" to the div if we need to make it key-listenable -->
<!-- I'm a little teapot. -->
    {{ super() }}
</div>
<script type="text/javascript">
    // $("#plot_div").keydown(function(event) {
    // document.getElementById("plot_div").addEventListener("keydown", function(event){
    // doing whole document.  Or we could figure out how to target a bokeh-generated container div
    // preventDefault causes the key not to pass to any widgets that are in focus, such as a text input
    document.addEventListener("keydown", function(event){
        // var tabs = Bokeh.documents[0].get_model_by_name('tabs');
        switch(event.keyCode){
        case 65:
            $.ajax('/handle_key?key=a');
            break;
        case 66:
            $.ajax('/handle_key?key=b');
            break;
        //case 65:
        //  tabs.active = 0;
        //  event.preventDefault()
        //  break;
        //case 66:
        //  tabs.active = 1;
        //  event.preventDefault()
        //  break;
        }
     });
</script>
{% endblock %}
